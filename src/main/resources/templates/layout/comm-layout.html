<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	  th:fragment="commLayout(head,main)">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<link rel="stylesheet" href="/css/commons/common.css">
	<!-- 추가 head 소스가 삽입되는 지점입니다.-->
	<th:block th:replace="${head}"/>
</head>
<body>
<header>
	<h1>상단영역</h1>
	<div class="wrap view-size">
		<!--<p>메뉴와 로고 등을 구현합니다.</p>-->
		<nav>
			<h1>메뉴</h1>
			<div class="wrap">
				<ul class="flex">
					<li sec:authorize="hasRole('ADMIN')">
						<a href="/admin">관리자페이지</a>
					</li>
					<li sec:authorize="isAnonymous()">
						<a href="/member/login">로그인</a>
						<a href="/member/signup">회원가입</a>
					</li>

					<li sec:authorize="isAuthenticated()">
						<!--<span th:text="${#authentication.name+'(이름)'}">유저네임정보</span>-->
						<span sec:authentication="principal.email"></span>
						(
						<span th:if="${#authentication.principal.nickName==null}"
							  sec:authentication="principal.name"></span>
						<span th:if="${#authentication.principal.nickName!=null}"
							  sec:authentication="principal.nickName"></span>
						)
						<a href="/logout">로그아웃</a>
					</li>

				</ul>
			</div>
		</nav>
		<hr>
	</div>
</header>

<!-- 메인영역이 삽입되는 지점입니다.-->

<th:block th:replace="${main}"/>

<footer>
	<h1>하단영역</h1>
	<hr>
	<div class="wrap view-size">
		<p>회사정보와 약관등을 구현합니다.</p>
	</div>
</footer>

</body>
</html>